'use strict';Object.defineProperty(exports,'__esModule',{value:!0});function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var crudReducer=function(a){return function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},c=arguments[1],d=c.payload&&c.payload.actionName,e=c.payload?a.toUpperCase()+'.'+c.payload.actionName.toUpperCase():a.toUpperCase();switch(c.type){case e+'_PENDING':return Object.assign({},b,_defineProperty({},''+d,{pending:!0,data:null,error:null}));case e+'_COMPLETE':return Object.assign({},b,_defineProperty({},''+d,{pending:!1,data:c.payload.data,error:null}));case e+'_ERROR':return Object.assign({},b,_defineProperty({},''+d,{pending:!1,data:b.data,error:c.payload.error}));default:return b;}}},crudAction=function(a,b){return function(c){return new Promise(function(d,e){var f=a.toUpperCase(),g=a.split('.')[1];if(c({type:f+'_PENDING',payload:{actionName:g}}),b.length){b(function saveData(a){c({type:f+'_COMPLETE',payload:{actionName:g,data:a}}),d({dispatch:c,data:a})})}else b().then(function(a){c({type:f+'_COMPLETE',payload:{actionName:g,data:a}}),d({dispatch:c,data:a})}).catch(function(a){c({type:f+'_ERROR',payload:{actionName:g,error:a}}),e({dispatch:c,error:a})})})}};exports.crudReducer=crudReducer,exports.crudAction=crudAction;
