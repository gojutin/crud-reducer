'use strict';Object.defineProperty(exports,'__esModule',{value:!0});function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var crudReducer=function(a){return function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},c=arguments[1],d=a.toUpperCase(),e=c.payload&&c.payload.methodName;switch(c.type){case d+'_ACTION_PENDING':return Object.assign({},b,_defineProperty({},''+e,{pending:!0,data:null,error:null}));case d+'_ACTION_COMPLETE':return Object.assign({},b,_defineProperty({},''+e,{pending:!1,data:c.payload.data,error:null}));case d+'_ACTION_ERROR':return Object.assign({},b,_defineProperty({},''+e,{pending:!1,data:b.data,error:c.payload.error}));default:return b;}}},crudAction=function(a,b){return function(c){return new Promise(function(d,e){var f=a.split('.')[0].toUpperCase(),g=a.split('.')[1];if(c({type:f+'_ACTION_PENDING',payload:{methodName:g}}),b.length){b(function saveData(a){c({type:f+'_ACTION_COMPLETE',payload:{methodName:g,data:a}}),d({dispatch:c,data:a})})}else b().then(function(a){c({type:f+'_ACTION_COMPLETE',payload:{methodName:g,data:a}}),d({dispatch:c,data:a})}).catch(function(a){c({type:f+'_ACTION_ERROR',payload:{methodName:g,error:a}}),e({dispatch:c,error:a})})})}};exports.crudReducer=crudReducer,exports.crudAction=crudAction;
